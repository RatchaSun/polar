<!DOCTYPE html> <html> <head> <script> if ("neizod.github.io" == window.location.host && window.location.protocol != "https:") window.location.protocol = "https"; </script> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Maintenance | Polar</title> <meta name="description" content=" Table of Contents"> <link rel="canonical" href="https://neizod.github.io/polar/docs/maintenance.html"> <link rel="alternate" type="application/rss+xml" title="Polar" href="https://neizod.github.io/polar/feed.xml"> <link rel="icon" href="/polar/favicon.ico" /> <link rel="icon" sizes="256x256" href="/polar/assets/img/north-pole.png" /> <meta name="theme-color" content="#d4ebf2" /> <meta property="og:title" content="Maintenance" /> <meta property="og:description" content=" Table of Contents" /> <meta property="og:site_name" content="Polar" /> <meta property="og:url" content="https://neizod.github.io/polar/docs/maintenance.html" /> <meta property="og:type" content="product" /> <meta property="og:image" content="https://neizod.github.io/polar/assets/img/tired-bear.png" /> <meta name="twitter:card" content="summary" /> <link rel="stylesheet" href="/polar/assets/style.css" /> <script> window.onload = function() { var ln = document.getElementsByClassName('linenos'); for (var i=0; i<ln.length; i++) { ln[i].className += " flex"; var p1 = ln[i].getElementsByTagName('pre')[0]; p1.className += " flexitem fill"; var c1 = p1.getElementsByTagName('code')[0]; var ta = new Array((c1.innerHTML.match(/\n/g)||[]).length); for (var j=0; j<ta.length; j++) { ta[j] = j+1; } var p0 = document.createElement('pre'); p0.className = "highlight text-right sep-right"; var c0 = document.createElement('code'); c0.innerHTML = ta.join('\n'); p0.appendChild(c0) ln[i].insertBefore(p0, p1); } } </script> <script> MathJax = {"loader":{"load":["[tex]/physics"]},"tex":{"packages":{"[+]":["physics"]},"inlineMath":[["$","$"],["\\\\(","\\\\)"]],"macros":{"ord":"\\\\operatorname{ord}","sgn":"\\\\operatorname{sgn}"}}}; </script> <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script> </head> <body class="flex column"> <div class="mainmatter flexitem fill"> <div class="container"> <header class="flex align-center mobile-column"> <div class="logo"> <a href="/polar/"> <img src="/polar/assets/img/north-pole.png" width="72" height="72" /> </a> </div> <div class="info flexitem fill"> <h1><a href="/polar/">Polar</a></h1> <h2>White-Clean Jekyll Theme</h2> </div> <nav> <a href="/polar/posts">Posts</a> ⋅ <a href="/polar/projects">Projects</a> ⋅ <a href="/polar/docs">Documents</a> ⋅ <a href="/polar/about">About</a> </nav> </header> <article class="page"> <div class="flex align-center mobile-column"> <h1> Maintenance </h1> </div> <div class="flex align-center mobile-column"> </div> <div class="entry"> <blockquote class="infobox float-right"> <h2 class="no_toc" id="table-of-contents">Table of Contents</h2> <ol id="markdown-toc"> <li><a href="#upgrade" id="markdown-toc-upgrade">Upgrade</a></li> <li><a href="#downgrade" id="markdown-toc-downgrade">Downgrade</a></li> <li><a href="#uninstall" id="markdown-toc-uninstall">Uninstall</a></li> </ol> </blockquote> <p>This section will help you maintain the theme with Git <strong>if</strong> you choose to install it with Git remote (the hard way). If you do the copy-paste install, then you already know how to upgrade (copy-paste the new theme and fill-in those variables again).</p> <p>If you have just finished installing the theme, you don’t need to read this section now!</p> <h2 id="upgrade">Upgrade</h2> <p>Same as install, except you don’t need to specify where you’re getting the code from again. So basically just:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git fetch theme
~/borg <span class="nv">$ </span>git tag
~/borg <span class="nv">$ </span>git merge theme/&lt;version&gt;
</code></pre></div></div> <p>Or if you’re OK with a nightly build (though I strongly <strong>do not</strong> recommend that), the process is even simpler:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git fetch theme
~/borg <span class="nv">$ </span>git merge theme/master
</code></pre></div></div> <h2 id="downgrade">Downgrade</h2> <p>I hope you won’t need to read this topic, since it’s quite a messy process, but here we go. Suppose you installed the theme and upgraded it once, then your Git history may look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master:      (m1) --- (A) --- (B) --- (m2) --- (C) --- (D)
              /                        /
             /                        /
theme:  (v.1.0.0) -------------- (v.2.0.0)
</code></pre></div></div> <p>The above diagram says that you first installed the theme <code class="language-plaintext highlighter-rouge">v.1.0.0</code> at <code class="language-plaintext highlighter-rouge">m1</code> and then upgraded to <code class="language-plaintext highlighter-rouge">v.2.0.0</code> at <code class="language-plaintext highlighter-rouge">m2</code>. Now if you don’t like the look of theme <code class="language-plaintext highlighter-rouge">v.2.0.0</code> and want to revert back to <code class="language-plaintext highlighter-rouge">v.1.0.0</code>, this magic command will do the trick:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git revert <span class="nt">-m</span> 1 &lt;sha_of_m2&gt;
</code></pre></div></div> <p>Your history will show:</p> <p>TODO change (m1) to (i1) to prevent confusion w/ command option?</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master:      (m1) --- (A) --- (B) --- (m2) --- (C) --- (D) --- (^m2)
              /                        /
             /                        /
theme:  (v.1.0.0) -------------- (v.2.0.0)
</code></pre></div></div> <p>Which states that you have <em>uninstalled</em> theme <code class="language-plaintext highlighter-rouge">v.2.0.0</code> at commit <code class="language-plaintext highlighter-rouge">^m2</code>. Since you had <code class="language-plaintext highlighter-rouge">v.1.0.0</code> installed before, it will render your blog with that old version.</p> <p><strong>Important note</strong>: if you later decide to upgrade the theme again, for example, once you hear that theme <code class="language-plaintext highlighter-rouge">v.2.1.0</code> has already fixed the previous ugliness, you have to undo the above downgrade before an upgrade:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git revert &lt;sha_of_^m2&gt;
~/borg <span class="nv">$ </span>git merge theme/v.2.1.0
</code></pre></div></div> <p>If you experience problems with the downgrade, read more at <a href="//git-scm.com/blog/2010/03/02/undoing-merges.html">Git: Undoing Merges</a></p> <h2 id="uninstall">Uninstall</h2> <p>Sorry to see you go. I hope you find your theme!</p> <p>The uninstall process is much messier – yet similar – to the downgrade, so I think you should read the previous section before going on.</p> <p>Suppose you have installed 3 versions of this theme, namely <code class="language-plaintext highlighter-rouge">v.1.0.0</code>, <code class="language-plaintext highlighter-rouge">v.1.0.1</code> and <code class="language-plaintext highlighter-rouge">v.1.2.0</code>. The history diagram will be:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master:      (m1) --- (A) --- (m2) --- (B) --- (m3)
              /                /                /
             /                /                /
theme:  (v.1.0.0) ------ (v.1.0.1) ------ (v.1.2.0)
</code></pre></div></div> <p>Completely uninstalling the theme is done the same as downgrading, but this time you have to apply it to all installed versions (order does matter, you must do it from newest to oldest):</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git revert <span class="nt">-nm1</span> <span class="nt">-Xtheirs</span> &lt;sha_of_m3&gt; &lt;sha_of_m2&gt; &lt;sha_of_m1&gt;
~/borg <span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s1">'Uninstall theme'</span>
</code></pre></div></div> <p>Should you find yourself having a hard time listing all the merges, change the first line to this long command for automated listing (success not guaranteed; it has been suggested that you should never do the auto Git merge/undo):</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git revert <span class="nt">-nm1</span> <span class="nt">-Xtheirs</span> <span class="si">$(</span> git rev-list <span class="nt">--parents</span> master |
                                     <span class="nb">awk</span> <span class="s1">'{if ($3) print $1, $3}'</span> |
                                     <span class="nb">grep</span> <span class="nt">-f</span> &lt;<span class="o">(</span>git rev-list theme/master<span class="o">)</span> |
                                     <span class="nb">awk</span> <span class="s1">'{print $1}'</span> <span class="si">)</span>
</code></pre></div></div> <p>Your final history will look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master:      (m1) --- (A) --- (m2) --- (B) --- (m3) --- (^m3^m2^m1)
              /                /                /
             /                /                /
theme:  (v.1.0.0) ------ (v.1.0.1) ------ (v.1.2.0)
</code></pre></div></div> <p>Finally, remove tags and the remote theme.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/borg <span class="nv">$ </span>git tag <span class="nt">-d</span> <span class="si">$(</span> git tag | <span class="nb">grep</span> <span class="s1">'^theme/'</span> <span class="si">)</span>
~/borg <span class="nv">$ </span>git remote remove theme
</code></pre></div></div> <p>And now you’re ready for your new theme!</p> <p><strong>Important note, again</strong>: if you have installed and then uninstalled this theme in the past with the <code class="language-plaintext highlighter-rouge">git revert</code> command, and now want to re-install it, run <code class="language-plaintext highlighter-rouge">git revert</code> on the uninstalled commit.</p> </div> </article> <div class="posts"> <h2>Documents</h2> <ol> <li><a href="/polar/docs/install.html">Installation</a></li> <li><a href="/polar/docs/maintenance.html">Maintenance</a></li> <li><a href="/polar/docs/config.html">Configuration</a></li> </ol> </div> </div> </div> <div class="container"> <footer> <h5> polarbear &copy; 2016 All Right Reserved, <a href="/polar/feed.xml">subscribe</a>. </h5> <h6><a href="//github.com/neizod/polar">Powered by cute little Polar Bear</a></h6> </footer> </div> <style> @import url("//fonts.googleapis.com/css?family=Raleway:300|Lora|Ubuntu+Mono&subset=latin-ext"); </style> </body> </html>
